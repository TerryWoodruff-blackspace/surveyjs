<!DOCTYPE html><html>
<head><title>Navigation Delegate Example</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://ajax.aspnetcdn.com/ajax/knockout/knockout-3.5.0.js"></script>   
    <script src="https://surveyjs.azureedge.net/1.5.17/survey.ko.min.js"></script>
</head>
<body>
    <script>
        function doLoad() {
        Survey.StylesManager.applyTheme("bootstrap");

        var surveyJSON = {
         pages: [
          {
           name: "happinessQuestion",
           elements: [
            {
             type: "imagepicker",
             name: "feelingTodayQuestion",
             title: "How happy do you feel today?",
             isRequired: true,
             choices: [
              {
               value: "happy",
               imageLink: "/api/MySurveys/files?name=f9a66ce8-df5d-446d-88e3-a3329bfa3b77"
              },
              {
               value: "neutral",
               imageLink: "/api/MySurveys/files?name=71923364-3909-48d8-ad9e-93e77961f09a"
              },
              {
               value: "unhappy",
               imageLink: "/api/MySurveys/files?name=e207b3ea-e284-427b-bda5-6706d22f807b"
              }
             ],
             imageHeight: 192,
             imageWidth: 192
            }
           ]
          },
          {
           name: "happyOrNeutral",
           elements: [
            {
             type: "html",
             name: "encouragement",
             html: "<h2>Glad to hear you are OK. Keep it up!</h2>"
            },
            {
             type: "rating",
             name: "happinessRating",
             title: "On a scale of 1 to 5, how happy are you?",
             isRequired: true,
             minRateDescription: "OK",
             maxRateDescription: "Exstatic"
            }
           ],
           visibleIf: "{feelingTodayQuestion} <> 'unhappy'"
          },
          {
           name: "unhappyPage",
           elements: [
            {
             type: "html",
             name: "unhappyAdvice",
             html: "<h2>We are sorry to hear you are unhappy</h2>\n\nMaybe a nice picture of kittens would cheer you up?\n\n"
            },
            {
             type: "image",
             name: "pictureOfKittens",
             imageLink: "https://e3.365dm.com/19/04/1600x900/skynews-kitten-cat_4627790.jpg?bypass-service-worker&20190403095801",
             imageHeight: 300,
             imageWidth: 400
            }
           ],
           visibleIf: "{feelingTodayQuestion} = 'unhappy'"
          }
         ]
        };
   var survey = new Survey.Model(surveyJSON, "surveyContainer");
   survey.onComplete.add(sendDataToServer);    
}
 
function sendDataToServer(survey) {
    //send Ajax request to your web server.
    alert("The results are:" + JSON.stringify(survey.data));
}

window.onload = doLoad;

    </script>

<div id="surveyContainer"></div>   
</body>
</html>
